{% extends 'tracker/base.html' %}
{% block content %}
<h2>Dashboard - {{ user.username }}</h2>
<div class="dashboard-grid">
  <div class="card income">
    <h5 class="card-title">Income</h5>
    <p class="card-value">Ksh {{ income_total }}</p>
  </div>
  <div class="card expense">
    <h5 class="card-title">Expenses</h5>
    <p class="card-value">Ksh {{ expense_total }}</p>
  </div>
  <div class="card balance">
    <h5 class="card-title">Balance</h5>
    <p class="card-value">Ksh {{ balance }}</p>
  </div>
</div>

<h3>Transactions This Month</h3>
<table class="data-table">
  <thead>
    <tr>
      <th>Date</th>
      <th>Type</th>
      <th>Category</th>
      <th>Amount</th>
      <th>Note</th>
    </tr>
  </thead>
  <tbody>
    {% for t in transactions %}
    <tr>
      <td>{{ t.date }}</td>
      <td>{{ t.get_transaction_type_display }}</td>
      <td>{{ t.category }}</td>
      <td>{{ t.amount }}</td>
      <td>{{ t.note }}</td>
    </tr>
    {% empty %}
    <tr>
      <td colspan="5">No transactions yet.</td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
